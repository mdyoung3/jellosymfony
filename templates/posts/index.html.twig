{% extends 'base.html.twig' %}

{% block title %}Posts{% endblock %}

{% block body %}

<div class="example-wrapper">
    <h1>Posts</h1>

    {% if posts is empty %}
        <p>No posts found.</p>
    {% else %}
        {% for post in posts %}
        <article>
            <h2><a href="{{ path('app_posts_show', {id: post.id}) }}">{{ post.title }}</a></h2>
            <p>{{ post.excerpt }}</p>
            <p>
                <small>
                    {% if post.publishedAt %}
                        Published: {{ post.publishedAt|date('F j, Y') }}
                    {% else %}
                        Created: {{ post.createdAt|date('F j, Y') }}
                    {% endif %}
                    {% if post.category %}
                        | Category: <a href="{{ path('app_category_show', {id: post.category.id}) }}">{{ post.category.name }}</a>
                    {% endif %}
                </small>
            </p>
        </article>
        {% endfor %}
    {% endif %}

</div>
{% endblock %}
