{% extends 'base.html.twig' %}

{% block title %}Projects{% endblock %}

{% block body %}

<div class="example-wrapper">
    <h1>Projects</h1>

    {% if projects is empty %}
        <p>No projects found.</p>
    {% else %}
        {% for project in projects %}
        <article>
            <h2><a href="{{ project.slug }}">{{ project.name }}</a></h2>

            {% if project.featureImage %}
                <p><img src="{{ project.featureImage }}" alt="{{ project.name }}"></p>
            {% endif %}

            <p>{{ project.content|slice(0, 200) }}{% if project.content|length > 200 %}...{% endif %}</p>

            {% if project.techStack is not empty %}
                <p><strong>Tech:</strong> {{ project.techStack|join(', ') }}</p>
            {% endif %}

            <p>
                <small>
                    {% if project.featured %}Featured | {% endif %}
                    {% if project.category %}
                        Category: <a href="{{ path('app_category_show', {id: project.category.id}) }}">{{ project.category.name }}</a>
                    {% endif %}
                </small>
            </p>
        </article>
        {% endfor %}
    {% endif %}

</div>
{% endblock %}
